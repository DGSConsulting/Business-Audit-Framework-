<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DGS Consulting | Business Scorecard</title>
<style>
  :root {
    --primary: #1E293B;
    --accent: #06B6D4;
    --light: #F9FAFB;
    --lighter: #FFFFFF;
    --success: #10B981;
    --warning: #FBBF24;
    --danger: #F87171;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: var(--primary);
    min-height: 100vh;
    padding: 2rem 1rem;
  }

  .container {
    max-width: 1000px;
    margin: 0 auto;
    background: var(--lighter);
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    overflow: hidden;
  }

  .header {
    background: linear-gradient(135deg, var(--primary) 0%, #334155 100%);
    color: white;
    padding: 2.5rem 2rem;
    text-align: center;
  }

  .header h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    font-weight: 700;
  }

  .header p {
    font-size: 1.1rem;
    opacity: 0.9;
  }

  .progress-indicator {
    position: sticky;
    top: 0;
    background: white;
    padding: 1rem 2rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    z-index: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .progress-text {
    font-size: 0.9rem;
    color: var(--primary);
    font-weight: 600;
  }

  .quick-actions {
    display: flex;
    gap: 0.5rem;
  }

  .quick-btn {
    padding: 0.5rem 1rem;
    background: var(--light);
    border: none;
    border-radius: 6px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
    color: var(--primary);
  }

  .quick-btn:hover {
    background: var(--accent);
    color: white;
  }

  .content {
    padding: 2.5rem;
  }

  .section {
    margin-bottom: 3rem;
  }

  .section-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    color: var(--primary);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .categories {
    display: grid;
    gap: 2rem;
  }

  .category-card {
    background: var(--light);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    position: relative;
  }

  .category-card:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(6, 182, 212, 0.1);
  }

  .category-card.needs-attention {
    border-color: var(--danger);
    background: #FEF2F2;
  }

  .help-icon {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 20px;
    height: 20px;
    background: var(--accent);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    cursor: help;
    font-weight: bold;
  }

  .help-tooltip {
    position: absolute;
    top: 2.5rem;
    right: 1rem;
    background: var(--primary);
    color: white;
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.85rem;
    width: 250px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 10;
    line-height: 1.4;
  }

  .help-icon:hover + .help-tooltip {
    opacity: 1;
  }

  .category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .category-name {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--primary);
  }

  .category-score {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--accent);
    min-width: 50px;
    text-align: right;
  }

  .slider-wrapper {
    margin-bottom: 1rem;
  }

  input[type="range"] {
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: #E5E7EB;
    outline: none;
    -webkit-appearance: none;
    cursor: pointer;
  }

  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    background: #0891b2;
  }

  input[type="range"]::-moz-range-thumb {
    width: 24px;
    height: 24px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  input[type="range"]::-moz-range-thumb:hover {
    transform: scale(1.15);
    background: #0891b2;
  }

  .recommendation {
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
  }

  .recommendation.low {
    background: #FEE2E2;
    color: #991B1B;
  }

  .recommendation.medium {
    background: #FEF3C7;
    color: #92400E;
  }

  .recommendation.high {
    background: #D1FAE5;
    color: #065F46;
  }

  .dashboard {
    background: linear-gradient(135deg, var(--light) 0%, white 100%);
    padding: 2rem;
    border-radius: 12px;
    text-align: center;
  }

  .score-display-large {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 0 auto 2rem;
  }

  #scoreCircle {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(var(--accent) 0deg 0deg, #E5E7EB 0deg 360deg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 0.5s ease;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  }

  #overallScore {
    font-size: 3.5rem;
    font-weight: 700;
    color: var(--primary);
  }

  .score-label {
    font-size: 0.9rem;
    color: #64748B;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .status-badge {
    display: inline-block;
    padding: 0.5rem 1.5rem;
    border-radius: 50px;
    font-weight: 600;
    font-size: 1.1rem;
    margin-top: 1rem;
  }

  .status-badge.excellent { background: #D1FAE5; color: #065F46; }
  .status-badge.good { background: #DBEAFE; color: #1E40AF; }
  .status-badge.fair { background: #FEF3C7; color: #92400E; }
  .status-badge.needs-work { background: #FEE2E2; color: #991B1B; }

  .action-bar {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
  }

  .btn {
    padding: 0.875rem 2rem;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    position: relative;
    overflow: hidden;
  }

  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s ease;
  }

  .btn:hover::before {
    left: 100%;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--accent) 0%, #0891b2 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(6, 182, 212, 0.4);
  }

  .btn-secondary {
    background: linear-gradient(135deg, var(--primary) 0%, #334155 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(30, 41, 59, 0.3);
  }

  .btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(30, 41, 59, 0.4);
  }

  .btn-outline {
    background: white;
    color: var(--primary);
    border: 2px solid var(--primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .btn-outline:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(30, 41, 59, 0.3);
  }

  .insights {
    margin-top: 2rem;
    padding: 1.5rem;
    background: white;
    border-radius: 12px;
    border-left: 4px solid var(--accent);
  }

  .insights h3 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    color: var(--primary);
  }

  .insights ul {
    list-style: none;
    display: grid;
    gap: 0.75rem;
  }

  .insights li {
    padding-left: 1.5rem;
    position: relative;
    color: #475569;
    line-height: 1.6;
  }

  .insights li:before {
    content: "â†’";
    position: absolute;
    left: 0;
    color: var(--accent);
    font-weight: 700;
  }

  .contact-section {
    margin-top: 2rem;
    padding: 2rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    color: white;
    position: relative;
  }

  .contact-section.highlight {
    animation: pulse 2s ease-in-out;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4); }
  }

  .cta-banner {
    background: rgba(255,255,255,0.15);
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    text-align: center;
    border: 2px dashed rgba(255,255,255,0.4);
  }

  .cta-banner.urgent {
    background: rgba(248, 113, 113, 0.2);
    border-color: rgba(248, 113, 113, 0.6);
    animation: shake 0.5s ease-in-out;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  .contact-section h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .contact-section p {
    text-align: center;
    margin-bottom: 1.5rem;
    opacity: 0.95;
  }

  .contact-form {
    max-width: 600px;
    margin: 0 auto;
    display: grid;
    gap: 1rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-group label {
    font-weight: 600;
    font-size: 0.95rem;
  }

  .form-group input,
  .form-group textarea {
    padding: 0.875rem;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 8px;
    font-size: 1rem;
    font-family: inherit;
    background: rgba(255,255,255,0.95);
    color: var(--primary);
    transition: all 0.3s ease;
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: white;
    background: white;
    box-shadow: 0 0 0 3px rgba(255,255,255,0.2);
  }

  .form-group textarea {
    min-height: 120px;
    resize: vertical;
  }

  .form-scores {
    background: rgba(255,255,255,0.15);
    padding: 1rem;
    border-radius: 8px;
    font-size: 0.9rem;
    line-height: 1.6;
  }

  .btn-submit {
    background: white;
    color: #667eea;
    padding: 1rem 2rem;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 0.5rem;
  }

  .btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    background: #f0f0f0;
  }

  .btn-submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .success-message {
    background: var(--success);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-weight: 600;
    display: none;
  }

  .success-message.show {
    display: block;
    animation: slideIn 0.3s ease;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .comparison-section {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    margin-top: 2rem;
    border: 2px solid var(--light);
  }

  .comparison-header {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .comparison-header h3 {
    color: var(--primary);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .comparison-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }

  .comparison-card {
    text-align: center;
    padding: 1.5rem;
    background: var(--light);
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .comparison-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .comparison-label {
    font-size: 0.85rem;
    color: #64748B;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .comparison-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
  }

  .comparison-value.highlight {
    color: var(--accent);
  }

  .comparison-value.danger {
    color: var(--danger);
  }

  .testimonial-section {
    background: linear-gradient(135deg, #F9FAFB 0%, white 100%);
    padding: 2rem;
    border-radius: 12px;
    margin-top: 2rem;
  }

  .testimonial-header {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .testimonial-header h3 {
    color: var(--primary);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .testimonials {
    display: grid;
    gap: 1rem;
  }

  .testimonial {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 4px solid var(--accent);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  .testimonial-text {
    font-style: italic;
    color: #475569;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .testimonial-author {
    font-weight: 600;
    color: var(--primary);
  }

  .testimonial-result {
    color: var(--success);
    font-size: 0.9rem;
    margin-top: 0.5rem;
  }

  @media (max-width: 768px) {
    .header h1 {
      font-size: 2rem;
    }
    
    .content {
      padding: 1.5rem;
    }

    .action-bar {
      flex-direction: column;
    }

    .btn {
      width: 100%;
      justify-content: center;
    }

    .modal-content {
      padding: 0;
    }

    .modal-header {
      padding: 2rem 1.5rem 1.5rem;
    }

    .modal-header h2 {
      font-size: 1.5rem;
    }

    .modal-body {
      padding: 1.5rem;
    }

    .scoring-guide {
      padding: 1.5rem;
    }

    .modal-features {
      grid-template-columns: 1fr;
    }

    .score-range {
      grid-template-columns: 70px 1fr;
      gap: 1rem;
      padding: 0.875rem;
    }

    .score-range-label {
      font-size: 1.1rem;
    }

    .email-form {
      flex-direction: column;
    }

    .email-form input,
    .email-form button {
      width: 100%;
    }
  }
</style>
</head>
<body>

<!-- Onboarding Modal -->
<div class="modal-overlay" id="onboardingModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Business Performance Assessment</h2>
      <p>A comprehensive evaluation tool to identify opportunities and drive strategic growth</p>
    </div>

    <div class="modal-body">
      <div style="text-align: center;">
        <span class="time-badge">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" style="flex-shrink: 0;">
            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 4V8L11 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          2 Minutes â€¢ 6 Questions
        </span>
      </div>

      <div class="scoring-guide">
        <h3>Assessment Criteria</h3>
        <div class="score-range">
          <span class="score-range-label low">0-3</span>
          <span class="score-range-desc"><strong>Critical:</strong> Requires immediate strategic intervention</span>
        </div>
        <div class="score-range">
          <span class="score-range-label medium">4-6</span>
          <span class="score-range-desc"><strong>Developing:</strong> Functional with optimization potential</span>
        </div>
        <div class="score-range">
          <span class="score-range-label high">7-10</span>
          <span class="score-range-desc"><strong>Excellent:</strong> High-performing and competitive</span>
        </div>
      </div>

      <div class="modal-features">
        <div class="modal-feature">Instant comprehensive analysis</div>
        <div class="modal-feature">Industry benchmark comparison</div>
        <div class="modal-feature">Prioritized action recommendations</div>
        <div class="modal-feature">Confidential and secure</div>
      </div>

      <button class="modal-btn" onclick="closeOnboarding()">Begin Assessment</button>

      <div class="modal-footer">
        <div class="modal-footer-text">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0a8 8 0 100 16A8 8 0 008 0zm.93 12.5h-1.8V6.887h1.8V12.5zm-.9-7.05a1.05 1.05 0 110-2.1 1.05 1.05 0 010 2.1z"/>
          </svg>
          Your data is private and will not be shared with third parties
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Help Tooltip Backdrop for Mobile -->
<div class="help-tooltip-backdrop" id="tooltipBackdrop" onclick="closeAllTooltips()"></div>

<div class="container">
  <div class="header">
    <h1>Business Performance Scorecard</h1>
    <p>Measure and improve your business performance</p>
  </div>

  <div class="progress-indicator" id="progressBar">
    <div class="progress-text">
      <span id="progressText">Complete your assessment</span>
    </div>
    <div class="quick-actions">
      <button class="quick-btn" onclick="document.getElementById('contactSection').scrollIntoView({behavior: 'smooth'})">
        Get Help
      </button>
    </div>
  </div>

  <div class="content">
    <div class="section">
      <h2 class="section-title">Performance Metrics</h2>
      <div class="categories" id="categoriesContainer"></div>
    </div>

    <div class="section">
      <div class="dashboard">
        <h2 class="section-title" style="justify-content: center;">Overall Score</h2>
        <div class="score-display-large">
          <div id="scoreCircle">
            <span id="overallScore">50</span>
            <span class="score-label">/ 100</span>
          </div>
        </div>
        <div id="statusBadge" class="status-badge fair">Fair Performance</div>
        
        <div class="insights" id="insights">
          <h3>Key Insights</h3>
          <ul id="insightsList"></ul>
        </div>

        <div class="comparison-section">
          <div class="comparison-header">
            <h3>How You Compare</h3>
            <p style="color: #64748B; font-size: 0.95rem;">See how your business stacks up against industry benchmarks</p>
          </div>
          <div class="comparison-grid">
            <div class="comparison-card">
              <div class="comparison-label">Your Score</div>
              <div class="comparison-value highlight" id="yourScore">50</div>
            </div>
            <div class="comparison-card">
              <div class="comparison-label">Industry Average</div>
              <div class="comparison-value">65</div>
            </div>
            <div class="comparison-card">
              <div class="comparison-label">Top Performers</div>
              <div class="comparison-value">85</div>
            </div>
            <div class="comparison-card">
              <div class="comparison-label">Gap to Close</div>
              <div class="comparison-value danger" id="gapScore">15</div>
            </div>
          </div>
        </div>

        <div class="testimonial-section">
          <div class="testimonial-header">
            <h3>Success Stories</h3>
            <p style="color: #64748B; font-size: 0.95rem;">Small and medium-sized businesses that transformed with the right guidance</p>
          </div>
          <div class="testimonials">
            <div class="testimonial">
              <div class="testimonial-text">
                "Between managing crews, equipment, and finding new clients, I didn't know where to focus. The scorecard showed me exactly where my landscaping business was falling short, and now we're booked solid."
              </div>
              <div class="testimonial-author">â€” Owner, Landscaping Business</div>
              <div class="testimonial-result">Score improved from 42 â†’ 78</div>
            </div>
            <div class="testimonial">
              <div class="testimonial-text">
                "As a freelance graphic designer, I was great at the creative work but struggled with the business side. This assessment helped me structure my operations and finally scale beyond just me."
              </div>
              <div class="testimonial-author">â€” Freelance Graphic Designer</div>
              <div class="testimonial-result">Score improved from 35 â†’ 82</div>
            </div>
          </div>
        </div>

        <div class="action-bar">
          <button class="btn btn-primary" id="downloadPDF">
            Download PDF Report
          </button>
          <button class="btn btn-secondary" id="saveScore">
            Save Progress
          </button>
          <button class="btn btn-outline" id="resetScore">
            Reset All
          </button>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="contact-section" id="contactSection">
        <div id="ctaBanner" class="cta-banner">
          <strong>Ready to take action?</strong>
          <p style="margin-top: 0.5rem; font-size: 0.95rem;">Let's create a personalized roadmap for your business success</p>
        </div>

        <!-- Email Results Section -->
        <div class="email-results-section">
          <h3>ðŸ“§ Save Your Results</h3>
          <p>Get your scorecard and personalized insights sent directly to your inbox</p>
          
          <div id="emailSuccess" class="email-success">
            âœ“ Success! Check your email for your personalized scorecard.
          </div>

          <form class="email-form" id="emailResultsForm" style="display: flex;">
            <input 
              type="email" 
              id="emailInput" 
              placeholder="your.email@company.com" 
              required
            >
            <button type="submit" id="emailSubmitBtn">Email My Results</button>
          </form>
        </div>

        <h3>Need Help Getting Started?</h3>
        <p>Not sure where to begin or how to improve your scores? Let's talk! I'll help you create a personalized action plan.</p>
        
        <div id="successMessage" class="success-message">
          âœ… Thank you! Your message has been sent. I'll be in touch soon!
        </div>

        <form class="contact-form" id="contactForm" action="https://formspree.io/f/xyzbbyna" method="POST">
          <div class="form-group">
            <label for="name">Your Name *</label>
            <input type="text" id="name" name="name" required placeholder="John Doe">
          </div>

          <div class="form-group">
            <label for="email">Your Email *</label>
            <input type="email" id="email" name="email" required placeholder="john@company.com">
          </div>

          <div class="form-group">
            <label>Your Current Scores</label>
            <div class="form-scores" id="formScores">
              Loading scores...
            </div>
            <input type="hidden" id="scoresData" name="scores">
          </div>

          <div class="form-group">
            <label for="message">What challenges are you facing? *</label>
            <textarea id="message" name="message" required placeholder="Tell me about your biggest business challenges and what areas you'd like help with..."></textarea>
          </div>

          <div class="optional-fields">
            <span class="optional-label">Optional: Help us serve you better</span>
            
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" placeholder="+1 (555) 123-4567">
            </div>

            <div class="form-group">
              <label for="company">Company Name</label>
              <input type="text" id="company" name="company" placeholder="Your Company Inc.">
            </div>
          </div>

          <button type="submit" class="btn-submit" id="submitBtn">
            Send Message & Get Expert Help
          </button>
        </form>
      </div>
    </div>
  </div>

  <footer style="background: var(--primary); color: white; padding: 2rem; text-align: center; margin-top: 3rem;">
    <div style="max-width: 900px; margin: 0 auto;">
      <h3 style="margin-bottom: 1rem; font-size: 1.5rem;">DGS Consulting</h3>
      <p style="opacity: 0.9; margin-bottom: 1.5rem; line-height: 1.6;">Ready to see where your tools are costing you time and profit? Start with the $99 Tech Stack Red Flag Audit â€” fast, practical, and focused on measurable wins.</p>
      <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
        <a href="https://dgsconsulting.solutions/" style="color: white; text-decoration: none; opacity: 0.9; transition: opacity 0.3s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.9'">Home</a>
        <a href="https://dgsconsulting.solutions/Services/index.html" style="color: white; text-decoration: none; opacity: 0.9; transition: opacity 0.3s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.9'">Services</a>
        <a href="#contactSection" style="color: white; text-decoration: none; opacity: 0.9; transition: opacity 0.3s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.9'" onclick="event.preventDefault(); window.location.href='mailto:DGSConsult@consultant.com';">Contact</a>
        <a href="https://www.linkedin.com/in/dg-snook/" target="_blank" style="color: white; text-decoration: none; opacity: 0.9; transition: opacity 0.3s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.9'">LinkedIn</a>
      </div>
      <div style="padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.2); font-size: 0.9rem; opacity: 0.8;">
        Â© 2024 DGS Consulting. All rights reserved.
      </div>
    </div>
  </footer>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  const categories = [
    {
      name: "Operations",
      icon: "âš™",
      description: "Process efficiency and workflow management",
      helpText: "Operations score measures how well your processes run, including efficiency, quality control, and resource management. A high score means smooth operations with minimal waste."
    },
    {
      name: "Technology",
      icon: "â–£",
      description: "Digital tools and infrastructure",
      helpText: "Technology score evaluates your digital infrastructure, software tools, automation level, and how well technology supports your business goals."
    },
    {
      name: "Sales",
      icon: "â—ˆ",
      description: "Revenue generation and customer acquisition",
      helpText: "Sales score reflects your ability to generate leads, convert prospects, close deals, and maintain a healthy sales pipeline."
    },
    {
      name: "Marketing",
      icon: "â—",
      description: "Brand awareness and lead generation",
      helpText: "Marketing score measures brand visibility, lead generation effectiveness, customer engagement, and overall marketing ROI."
    },
    {
      name: "Finance",
      icon: "â—†",
      description: "Financial health and cash flow",
      helpText: "Finance score assesses cash flow management, profitability, financial planning, and overall financial stability of your business."
    },
    {
      name: "Team",
      icon: "â—Ž",
      description: "Employee satisfaction and productivity",
      helpText: "Team score evaluates employee engagement, productivity, culture, retention rates, and how well your team performs together."
    }
  ];

  let scores = {};

  function initializeScores() {
    const saved = loadScores();
    categories.forEach((cat, i) => {
      scores[i] = saved[i] || 5;
    });
  }

  function renderCategories() {
    const container = document.getElementById('categoriesContainer');
    container.innerHTML = categories.map((cat, i) => `
      <div class="category-card" id="card-${i}">
        <div class="help-icon mobile-active" onclick="toggleTooltip(${i})">?</div>
        <div class="help-tooltip" id="tooltip-${i}">
          ${cat.helpText}
          <button class="help-tooltip-close" onclick="closeTooltip(${i})">Ã—</button>
        </div>
        <div class="category-header">
          <div>
            <span style="font-size: 1.5rem; margin-right: 0.5rem;">${cat.icon}</span>
            <span class="category-name">${cat.name}</span>
          </div>
          <span class="category-score" id="score-${i}">${scores[i]}</span>
        </div>
        <div style="font-size: 0.9rem; color: #64748B; margin-bottom: 1rem;">${cat.description}</div>
        <div class="slider-wrapper">
          <input type="range" min="0" max="10" value="${scores[i]}" 
                 class="slider" data-cat="${i}">
        </div>
        <div class="recommendation" id="rec-${i}"></div>
      </div>
    `).join('');

    document.querySelectorAll('.slider').forEach(s => {
      s.addEventListener('input', handleSliderChange);
    });
  }

  function toggleTooltip(index) {
    const tooltip = document.getElementById(`tooltip-${index}`);
    const backdrop = document.getElementById('tooltipBackdrop');
    const isMobile = window.innerWidth <= 768;

    if (isMobile) {
      closeAllTooltips();
      tooltip.classList.add('mobile-show');
      backdrop.classList.add('show');
    }
  }

  function closeTooltip(index) {
    const tooltip = document.getElementById(`tooltip-${index}`);
    const backdrop = document.getElementById('tooltipBackdrop');
    tooltip.classList.remove('mobile-show');
    backdrop.classList.remove('show');
  }

  function closeAllTooltips() {
    document.querySelectorAll('.help-tooltip').forEach(t => {
      t.classList.remove('mobile-show');
    });
    document.getElementById('tooltipBackdrop').classList.remove('show');
  }

  function closeOnboarding() {
    document.getElementById('onboardingModal').style.display = 'none';
    localStorage.setItem('onboardingCompleted', 'true');
  }

  function checkOnboarding() {
    const completed = localStorage.getItem('onboardingCompleted');
    if (!completed) {
      document.getElementById('onboardingModal').style.display = 'flex';
    } else {
      document.getElementById('onboardingModal').style.display = 'none';
    }
  }

  function handleSliderChange(e) {
    const catIndex = e.target.dataset.cat;
    const value = parseInt(e.target.value);
    scores[catIndex] = value;
    updateUI();
  }

  function getRecommendation(score) {
    if (score <= 3) return { 
      text: "Needs immediate attention", 
      class: "low",
      priority: "high"
    };
    if (score <= 6) return { 
      text: "Room for improvement", 
      class: "medium",
      priority: "medium"
    };
    return { 
      text: "Strong performance", 
      class: "high",
      priority: "low"
    };
  }

  function getStatusBadge(score) {
    if (score >= 85) return { text: "Excellent", class: "excellent" };
    if (score >= 70) return { text: "Good", class: "good" };
    if (score >= 50) return { text: "Fair", class: "fair" };
    return { text: "Needs Work", class: "needs-work" };
  }

  function generateInsights() {
    const insights = [];
    const avgScore = Object.values(scores).reduce((a, b) => a + b, 0) / categories.length;
    
    const weakAreas = categories
      .map((cat, i) => ({ name: cat.name, score: scores[i], index: i }))
      .filter(c => c.score <= 4)
      .sort((a, b) => a.score - b.score);
    
    const strongAreas = categories
      .map((cat, i) => ({ name: cat.name, score: scores[i], index: i }))
      .filter(c => c.score >= 8)
      .sort((a, b) => b.score - a.score);

    if (weakAreas.length > 0) {
      insights.push(`Priority: Focus on improving ${weakAreas[0].name} (Score: ${weakAreas[0].score}/10)`);
    }

    if (strongAreas.length > 0) {
      insights.push(`Strength: ${strongAreas[0].name} is performing well (Score: ${strongAreas[0].score}/10)`);
    }

    if (avgScore < 5) {
      insights.push("Consider a comprehensive business review to identify systemic issues");
    } else if (avgScore >= 7) {
      insights.push("Great progress! Focus on maintaining consistency across all areas");
    }

    const variance = Math.max(...Object.values(scores)) - Math.min(...Object.values(scores));
    if (variance >= 5) {
      insights.push("Significant performance gap detected - balance your focus areas");
    }

    return insights;
  }

  function updateUI() {
    categories.forEach((cat, i) => {
      const score = scores[i];
      document.getElementById(`score-${i}`).textContent = score;
      
      const rec = getRecommendation(score);
      const recEl = document.getElementById(`rec-${i}`);
      recEl.className = `recommendation ${rec.class}`;
      recEl.textContent = rec.text;

      const card = document.getElementById(`card-${i}`);
      if (score <= 3) {
        card.classList.add('needs-attention');
      } else {
        card.classList.remove('needs-attention');
      }
    });

    const overall = Math.round((Object.values(scores).reduce((a, b) => a + b, 0) / categories.length) * 10);
    
    const scoreEl = document.getElementById('overallScore');
    animateValue(parseInt(scoreEl.textContent), overall, 600, val => {
      scoreEl.textContent = val;
    });

    const circle = document.getElementById('scoreCircle');
    const fillPercent = overall;
    let fillColor = "var(--accent)";
    if (fillPercent < 40) fillColor = "var(--danger)";
    else if (fillPercent < 70) fillColor = "var(--warning)";
    else if (fillPercent >= 85) fillColor = "var(--success)";

    circle.style.background = `conic-gradient(${fillColor} 0deg ${fillPercent * 3.6}deg, #E5E7EB ${fillPercent * 3.6}deg 360deg)`;

    const status = getStatusBadge(overall);
    const badge = document.getElementById('statusBadge');
    badge.className = `status-badge ${status.class}`;
    badge.textContent = status.text;

    const insights = generateInsights();
    const insightsList = document.getElementById('insightsList');
    insightsList.innerHTML = insights.map(i => `<li>${i}</li>`).join('');

    updateFormScores();
    updateProgressBar(overall);
    updateCTABanner(overall);
  }

  function updateProgressBar(score) {
    const progressText = document.getElementById('progressText');
    if (score < 50) {
      progressText.innerHTML = `<span style="color: var(--danger);">Score: ${score}/100 - Consider getting expert help</span>`;
    } else if (score < 70) {
      progressText.innerHTML = `<span style="color: var(--warning);">Score: ${score}/100 - Good progress!</span>`;
    } else {
      progressText.innerHTML = `<span style="color: var(--success);">Score: ${score}/100 - Excellent work!</span>`;
    }
  }

  function updateCTABanner(score) {
    const banner = document.getElementById('ctaBanner');
    const contactSection = document.getElementById('contactSection');
    
    if (score < 40) {
      banner.className = 'cta-banner urgent';
      banner.innerHTML = `
        <strong>Your business needs attention!</strong>
        <p style="margin-top: 0.5rem; font-size: 0.95rem;">With a score of ${score}/100, now is the perfect time to get expert guidance. Let's turn this around together!</p>
      `;
      contactSection.classList.add('highlight');
    } else if (score < 60) {
      banner.className = 'cta-banner';
      banner.innerHTML = `
        <strong>You're on the right track!</strong>
        <p style="margin-top: 0.5rem; font-size: 0.95rem;">Score: ${score}/100. Let's work together to optimize these areas and accelerate your growth.</p>
      `;
    } else {
      banner.className = 'cta-banner';
      banner.innerHTML = `
        <strong>Great performance!</strong>
        <p style="margin-top: 0.5rem; font-size: 0.95rem;">Score: ${score}/100. Want to reach the next level? Let's discuss advanced strategies.</p>
      `;
    }
  }

  function updateFormScores() {
    const overall = Math.round((Object.values(scores).reduce((a, b) => a + b, 0) / categories.length) * 10);
    const scoresText = categories.map((cat, i) => 
      `${cat.icon} ${cat.name}: ${scores[i]}/10`
    ).join('\n');
    
    const formScoresEl = document.getElementById('formScores');
    formScoresEl.innerHTML = `
      <strong>Overall Score: ${overall}/100</strong><br><br>
      ${scoresText.replace(/\n/g, '<br>')}
    `;

    const scoresDataEl = document.getElementById('scoresData');
    scoresDataEl.value = `Overall: ${overall}/100\n\n${scoresText}`;

    // Update comparison section
    document.getElementById('yourScore').textContent = overall;
    const gap = Math.max(0, 65 - overall);
    document.getElementById('gapScore').textContent = gap;
  }

  // Removed scrollToCalendar function as calendar section was removed

  function animateValue(start, end, duration, callback) {
    const startTime = performance.now();
    function step(currentTime) {
      const progress = Math.min((currentTime - startTime) / duration, 1);
      const eased = start + (end - start) * (0.5 - 0.5 * Math.cos(Math.PI * progress));
      callback(Math.round(eased));
      if (progress < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  function saveScores() {
    const data = JSON.stringify(scores);
    const saved = { scores, timestamp: new Date().toISOString() };
    localStorage.setItem('businessScores', JSON.stringify(saved));
    alert('âœ… Your progress has been saved!');
  }

  function loadScores() {
    const saved = localStorage.getItem('businessScores');
    if (saved) {
      const data = JSON.parse(saved);
      return data.scores || {};
    }
    return {};
  }

  function resetScores() {
    if (confirm('Are you sure you want to reset all scores to 5?')) {
      categories.forEach((_, i) => scores[i] = 5);
      localStorage.removeItem('businessScores');
      renderCategories();
      updateUI();
      alert('âœ… All scores have been reset!');
    }
  }

  document.getElementById('downloadPDF').addEventListener('click', async () => {
    const { jsPDF } = window.jspdf;
    const container = document.querySelector('.container');
    
    const btn = document.getElementById('downloadPDF');
    btn.textContent = 'â³ Generating...';
    btn.disabled = true;
    
    try {
      const canvas = await html2canvas(container, { 
        scale: 2,
        backgroundColor: '#ffffff'
      });
      
      const imgData = canvas.toDataURL('image/png');
      const pdf = new jsPDF('p', 'mm', 'a4');
      const pdfWidth = pdf.internal.pageSize.getWidth();
      const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
      
      pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
      
      const date = new Date().toISOString().split('T')[0];
      pdf.save(`Business-Scorecard-${date}.pdf`);
      
      alert('âœ… PDF downloaded successfully!');
    } catch (error) {
      alert('âŒ Error generating PDF. Please try again.');
      console.error(error);
    } finally {
      btn.textContent = 'ðŸ“„ Download PDF Report';
      btn.disabled = false;
    }
  });

  document.getElementById('saveScore').addEventListener('click', saveScores);
  document.getElementById('resetScore').addEventListener('click', resetScores);

  // Email Results Form
  document.getElementById('emailResultsForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const email = document.getElementById('emailInput').value;
    const submitBtn = document.getElementById('emailSubmitBtn');
    const successMsg = document.getElementById('emailSuccess');
    const form = document.getElementById('emailResultsForm');
    
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';
    
    const overall = Math.round((Object.values(scores).reduce((a, b) => a + b, 0) / categories.length) * 10);
    const scoresText = categories.map((cat, i) => 
      `${cat.icon} ${cat.name}: ${scores[i]}/10`
    ).join('\n');
    
    const emailData = {
      email: email,
      subject: 'Your Business Scorecard Results',
      message: `Overall Score: ${overall}/100\n\n${scoresText}\n\nThank you for completing the assessment! We'll be in touch soon with personalized recommendations.`,
      scores: `Overall: ${overall}/100\n\n${scoresText}`
    };
    
    try {
      const response = await fetch('https://formspree.io/f/xyzbbyna', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(emailData)
      });
      
      if (response.ok) {
        form.style.display = 'none';
        successMsg.classList.add('show');
        
        // Pre-fill the main contact form
        document.getElementById('email').value = email;
      } else {
        alert('Something went wrong. Please try again.');
      }
    } catch (error) {
      alert('Error sending email. Please try again.');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Email My Results';
    }
  });

  // Contact Form Submission
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'â³ Sending...';
    
    setTimeout(() => {
      const form = document.getElementById('contactForm');
      const successMsg = document.getElementById('successMessage');
      
      form.style.display = 'none';
      successMsg.classList.add('show');
      
      // Track conversion (you can add Google Analytics or other tracking here)
      if (typeof gtag !== 'undefined') {
        gtag('event', 'form_submission', {
          'event_category': 'engagement',
          'event_label': 'contact_form'
        });
      }
      
      setTimeout(() => {
        form.reset();
        form.style.display = 'grid';
        successMsg.classList.remove('show');
        submitBtn.disabled = false;
        submitBtn.textContent = 'ðŸ“¨ Send Message & Get Expert Help';
        updateFormScores();
      }, 5000);
    }, 100);
  });

  // Auto-scroll to contact form for very low scores
  function checkAutoScroll() {
    const overall = Math.round((Object.values(scores).reduce((a, b) => a + b, 0) / categories.length) * 10);
    if (overall < 30 && !localStorage.getItem('autoScrollShown')) {
      setTimeout(() => {
        const contactSection = document.getElementById('contactSection');
        contactSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
        localStorage.setItem('autoScrollShown', 'true');
      }, 3000);
    }
  }

  checkOnboarding();
  initializeScores();
  renderCategories();
  updateUI();
  checkAutoScroll();
</script>

</body>
</html>
